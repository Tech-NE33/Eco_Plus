(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7ac5"],{"522d":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{staticStyle:{height:"520px"},attrs:{"grid-list-md":"","mt-2":"","pa-0":"","overflow-hidden":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticStyle:{height:"50px"},attrs:{white:"","elevation-1":"",md12:"","mx-4":"","mt-3":"","pb-3":""}},[s("v-card-title",{attrs:{dark:"",color:"primary"}},[s("div",[s("h3",{staticClass:"red--text text--darken-1 title"},[e._v("Auto Mode")])])])],1),s("v-layout",{attrs:{row:"",wrap:"","mx-4":"","mb-4":"","pa-0":""}},[s("v-flex",{staticStyle:{height:"300px"},attrs:{"elevation-1":"","mx-n2":"",white:"",md4:"","pt-3":""}},[s("v-layout",{attrs:{"justify-center":"","mt-4":""}},[s("vue-ellipse-progress",{staticClass:"v-label headline",attrs:{progress:e.sensordata.airflow_progress,thickness:16,color:e.gauges[0].color,angle:0,line:"butt",half:!0,size:240,lineMode:"out -4",emptyColor:"#B0BEC5","legend-value":e.sensordata.airflow_legend}},[s("span",{staticClass:"v-label headline",attrs:{slot:"legend-value"},slot:"legend-value"},[e._v("/"+e._s(e.gauges[0].rangeHigh))]),s("p",{staticClass:"title mt-2 ma-0",attrs:{slot:"legend-caption"},slot:"legend-caption"},[e._v(e._s(e.gauges[0].name))]),s("span",{staticClass:"mt-0 pa-0 theme--light",staticStyle:{"font-size":"13pt"},attrs:{slot:"legend-caption"},domProps:{innerHTML:e._s(e.gauges[0].unit)},slot:"legend-caption"},[e._v(e._s(e.gauges[0].unit))])])],1)],1),s("v-flex",{staticStyle:{height:"300px"},attrs:{"elevation-1":"","mx-n2":"",white:"",md4:"","pt-3":""}},[s("v-layout",{attrs:{"justify-center":"","mt-4":""}},[s("vue-ellipse-progress",{staticClass:"v-label headline",attrs:{progress:e.sensordata.enclosure_progress,thickness:16,color:e.gauges[1].color,angle:0,line:"butt",half:!0,size:240,lineMode:"out -4","legend-value":e.sensordata.enclosure_legend}},[s("span",{staticClass:"v-label headline",attrs:{slot:"legend-value"},slot:"legend-value"},[e._v("/"+e._s(e.gauges[1].rangeHigh))]),s("p",{staticClass:"title mt-2 ma-0",attrs:{slot:"legend-caption"},slot:"legend-caption"},[e._v(e._s(e.gauges[1].name))]),s("span",{staticClass:"mt-0 pa-0 theme--light",staticStyle:{"font-size":"13pt"},attrs:{slot:"legend-caption"},domProps:{innerHTML:e._s(e.gauges[1].unit)},slot:"legend-caption"},[e._v(e._s(e.gauges[1].unit))])])],1)],1),s("v-flex",{staticStyle:{height:"300px"},attrs:{"elevation-1":"","mx-n2":"",white:"",md4:"","pt-3":""}},[s("v-layout",{attrs:{"justify-center":"","mt-4":""}},[s("vue-ellipse-progress",{staticClass:"v-label headline",attrs:{progress:e.sensordata.blockage_progress,thickness:16,color:e.gauges[2].color,angle:0,line:"butt",half:!0,size:240,lineMode:"out -4",emptyColor:"#B0BEC5","legend-value":e.sensordata.blockage_legend}},[s("span",{staticClass:"v-label headline",attrs:{slot:"legend-value"},slot:"legend-value"},[e._v("/"+e._s(e.gauges[2].rangeHigh))]),s("p",{staticClass:"title mt-2 ma-0",attrs:{slot:"legend-caption"},slot:"legend-caption"},[e._v(e._s(e.gauges[2].name))]),s("span",{staticClass:"mt-0 pa-0 theme--light",staticStyle:{"font-size":"13pt"},attrs:{slot:"legend-caption"},domProps:{innerHTML:e._s(e.gauges[2].unit)},slot:"legend-caption"},[e._v(e._s(e.gauges[2].unit))])])],1)],1)],1),s("v-flex",{staticStyle:{height:"110px"},attrs:{"elevation-2":"",white:"",md12:"","pa-0":"","mb-1":"","mx-4":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:"","offset-md3":"","mt-3":"",white:""}},[s("h3",{staticClass:"red--text title pl-3"},[e._v("Target Pressure: -"+e._s(e.enclosurePressure)+"Pa")]),s("v-card",{attrs:{color:"white",flat:""}},[s("v-slider",{staticClass:"px-3",attrs:{disabled:e.switch1,color:e.color,step:"0.1",label:"-25","inverse-label":"",max:"25"},on:{change:e.updateEP},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("div",{staticClass:"v-label theme--light pt-1"},[e._v("0")])]},proxy:!0}]),model:{value:e.enclosurePressure,callback:function(t){e.enclosurePressure=t},expression:"enclosurePressure"}})],1)],1),s("v-flex",{attrs:{md1:"","mt-1":"","pa-0":"","fill-height":""}},[s("v-card",{attrs:{white:"",flat:""}},[!0===e.switch1?s("v-icon",{staticClass:"pt-2",attrs:{color:"red",large:""}},[e._v("lock")]):s("v-icon",{staticClass:"pt-2",attrs:{color:"gray",large:""}},[e._v("lock_open")]),s("v-switch",{staticClass:"pt-0",attrs:{color:"red"},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}})],1)],1)],1)],1)],1)],1)},l=[],a=s("e7fc"),n=s.n(a),r={name:"manual",components:{},data:()=>({connection:{host:"localhost",port:9001,endpoint:"/mqtt",clean:!0,connectTimeout:4e3,reconnectPeriod:4e3,clientId:"Auto_Page",username:"",password:""},subscription:{topic:"esensor",qos:0},publish_run:{topic:"run_mode",qos:1,payload:"1"},publish_status:{topic:"is_on",qos:1,payload:"1"},publish_EP:{topic:"enclosure_target",qos:1,payload:"1"},sensordata:{airflow_progress:0,airflow_legend:0,enclosure_progress:0,enclosure_legend:0,blockage_progress:0,blockage_legend:0},qosList:[{label:0,value:0},{label:1,value:1},{label:2,value:2}],client:{connected:!1},subscribeSuccess:!1,switch1:!0,enclosurePressure:12,interval:null,dialog:!1,gauges:[{name:"Airflow",progress:0,show:2.6,unit:"(000's M<sup>3</sup>/Hr)",color:"green",rangeHigh:10},{name:"Enclosure Pressure",progress:0,show:8.9,unit:"(Pa)",color:"orange",rangeHigh:24},{name:"HEPA Blockage",progress:80,show:80,unit:"(Percent)",color:"red",rangeHigh:100}]}),computed:{color(){return this.enclosurePressure<60||this.enclosurePressure<80||this.enclosurePressure,"red"},animationDuration(){return this.enclosurePressure+"s"}},created:function(){this.createConnection(),this.doSubscribe()},beforeDestroy(){this.doUnSubscribe(),this.destroyConnection()},mounted(){this.doPublishrun()},methods:{updateEP:function(e){console.log("Slider Changed"),this.publish_EP.payload=e.toString(),this.doPublishEP()},createConnection(){const{host:e,port:t,endpoint:s,...o}=this.connection,l=`ws://${e}:${t}${s}`;try{this.client=n.a.connect(l,o)}catch(a){console.log("mqtt.connect error",a)}this.client.on("connect",()=>{console.log("Connection succeeded!")}),this.client.on("error",e=>{console.log("Connection failed",e)}),this.client.on("message",(e,t)=>{this.sensordata=JSON.parse(t),console.log(`Received message ${this.sensordata} from topic ${e}`)})},doSubscribe(){const{topic:e,qos:t}=this.subscription;this.client.subscribe(e,{qos:t},(e,t)=>{e?console.log("Subscribe to topics error",e):(this.subscribeSuccess=!0,console.log("Subscribe to topics res",t))})},doUnSubscribe(){const{topic:e}=this.subscription;this.client.unsubscribe(e,e=>{console.log("Unsubscribed"),e&&console.log("Unsubscribe error",e)})},doPublishrun(){const{topic:e,qos:t,payload:s}=this.publish_run;this.client.publish(e,s,t,e=>{e&&console.log("Publish error",e)})},doPublishEP(){const{topic:e,qos:t,payload:s}=this.publish_EP;this.client.publish(e,s,t,e=>{console.log("Pressure Target updated"),e&&console.log("Publish error",e)})},destroyConnection(){if(this.client.connected)try{this.client.end(),this.client={connected:!1},console.log("Successfully disconnected!")}catch(e){console.log("Disconnect failed",e.toString())}},decrement(){this.enclosurePressure--},increment(){this.enclosurePressure++}}},i=r,c=s("2877"),u=s("6544"),d=s.n(u),g=s("b0af"),p=s("12b2"),h=s("a523"),b=s("0e8f"),v=s("132d"),m=s("a722"),_=s("ba0d"),f=s("b73d"),w=Object(c["a"])(i,o,l,!1,null,null,null);t["default"]=w.exports;d()(w,{VCard:g["a"],VCardTitle:p["a"],VContainer:h["a"],VFlex:b["a"],VIcon:v["a"],VLayout:m["a"],VSlider:_["a"],VSwitch:f["a"]})}}]);
//# sourceMappingURL=chunk-2d0c7ac5.ec41f271.js.map